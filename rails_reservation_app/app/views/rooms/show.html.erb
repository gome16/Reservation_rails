<div class="container-fuluid"> 
  <div class="container" >
      <div class="row">
        <%= link_to "戻る", :back,class:"mt-3 col-9" %>
          <% if @room.user_id == current_user&.id%>
            <%= link_to "編集", edit_room_path(@room), class:"mt-3 col-2" %>
          <% end %>
      </div>
    <div class="mt-5">
      <div class="row">
        <%= image_tag @room.image.to_s %>
      </div>
    </div>
    <div class="mt-5">
      <div class="row">
        <div class="col-md-3">
          <%= @room.roomname %>
        </div>
      </div>
    </div>
    <div class="mt-5">
      <div class="row">
        <div class="col-md-3">
          <%= @room.detail%>
        </div>
      </div>
    </div>

    <div class="mt-5">
      <div class="row">
        <div class="col-md-3">
         <p> ¥<%= @room.price%></p>
        </div>
      </div>
    </div>

    <% if flash[:notice] %>
      <p class="notice"><%= flash[:notice] %></p>
    <% end %>

     
    
    <h2 class="mt-5">施設を予約</h2>
    <%= form_with(model:@reservation, method: :post, url: confirm_reservations_path(@reservation)) do |f| %>
    <% if @reservation.errors.any? %>
    <% end %>
      <%= f.hidden_field :room_id, :value => @room.id %>
      <%= f.hidden_field :user_id, :value => current_user&.id %>
      <%= f.hidden_field :roomname, :value => @room.roomname %>
      <%= f.hidden_field :price, :value => @room.price %>
      <%= f.hidden_field :detail, :value => @room.detail %>
      <%= f.hidden_field :address, :value => @room.address %>
      <%= f.hidden_field :image, :value => @room.image_cache %>
      <div class="row">
        <div class="col-3">
          <div class="form-group">     
            <%= f.label :check_in,"開始日" %>
            <%= f.date_field :check_in%>
            <% if @reservation.errors.include?(:check_in) %>
              <p style="color: red;"><%= @reservation.errors.full_messages_for(:check_in).first %>
            <% end %>
          </div>
        </div>
        <div class="col-3">
          <div class="form-group"> 
            <%= f.label :check_out,"終了日" %>
            <%= f.date_field :check_out %>
            <% if @reservation.errors.include?(:check_out) %>
              <p style="color: red;"><%= @reservation.errors.full_messages_for(:check_out).first %>
            <% end %>
          </div>
        </div>

        <div class="col-4">
          <div class="form-group">
            <%= f.label :number,"人数" %>
            <%= f.text_field :number %>
            <% if @reservation.errors.include?(:number) %>
              <p style="color: red;"><%= @reservation.errors.full_messages_for(:number).first %>
            <% end %>
          </div>
        </div>

        <div class="col-4">
          <div class="form-group">
            <%= f.submit "予約", class: 'btn btn-primary' %>
          </div>
        </div>
    <% end %>
  </div>
</div>